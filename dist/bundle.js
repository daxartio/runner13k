!function(t){var n={};function e(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(a,r,function(n){return t[n]}.bind(null,r));return a},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n){kontra.init(),kontra.canvas.width=100,kontra.canvas.height=150,kontra.getImage=function(t){const n=new Image;return n.src=t,n},kontra.clear=function(){kontra.context.clearRect(0,0,kontra.canvas.width,kontra.canvas.height)},kontra.gameLoopEmpty=function(){return kontra.gameLoop({clearCanvas:!1,update(t){},render(){}})},kontra.getRandomInt=function(t,n){return Math.floor(Math.random()*(n-t))+t}},function(t,n){!function(){var t=t={A:[[,1],[1,,1],[1,,1],[1,1,1],[1,,1]],B:[[1,1],[1,,1],[1,1,1],[1,,1],[1,1]],C:[[1,1,1],[1],[1],[1],[1,1,1]],D:[[1,1],[1,,1],[1,,1],[1,,1],[1,1]],E:[[1,1,1],[1],[1,1,1],[1],[1,1,1]],F:[[1,1,1],[1],[1,1],[1],[1]],G:[[,1,1],[1],[1,,1,1],[1,,,1],[,1,1]],H:[[1,,1],[1,,1],[1,1,1],[1,,1],[1,,1]],I:[[1,1,1],[,1],[,1],[,1],[1,1,1]],J:[[1,1,1],[,,1],[,,1],[1,,1],[1,1,1]],K:[[1,,,1],[1,,1],[1,1],[1,,1],[1,,,1]],L:[[1],[1],[1],[1],[1,1,1]],M:[[1,1,1,1,1],[1,,1,,1],[1,,1,,1],[1,,,,1],[1,,,,1]],N:[[1,,,1],[1,1,,1],[1,,1,1],[1,,,1],[1,,,1]],O:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],P:[[1,1,1],[1,,1],[1,1,1],[1],[1]],Q:[[0,1,1],[1,,,1],[1,,,1],[1,,1,1],[1,1,1,1]],R:[[1,1],[1,,1],[1,,1],[1,1],[1,,1]],S:[[1,1,1],[1],[1,1,1],[,,1],[1,1,1]],T:[[1,1,1],[,1],[,1],[,1],[,1]],U:[[1,,1],[1,,1],[1,,1],[1,,1],[1,1,1]],V:[[1,,,,1],[1,,,,1],[,1,,1],[,1,,1],[,,1]],W:[[1,,,,1],[1,,,,1],[1,,,,1],[1,,1,,1],[1,1,1,1,1]],X:[[1,,,,1],[,1,,1],[,,1],[,1,,1],[1,,,,1]],Y:[[1,,1],[1,,1],[,1],[,1],[,1]],Z:[[1,1,1,1,1],[,,,1],[,,1],[,1],[1,1,1,1,1]],0:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],1:[[,1],[,1],[,1],[,1],[,1]],2:[[1,1,1],[0,0,1],[1,1,1],[1,0,0],[1,1,1]],3:[[1,1,1],[0,0,1],[1,1,1],[0,0,1],[1,1,1]],4:[[1,0,1],[1,0,1],[1,1,1],[0,0,1],[0,0,1]],5:[[1,1,1],[1,0,0],[1,1,1],[0,0,1],[1,1,1]],6:[[1,1,1],[1,0,0],[1,1,1],[1,0,1],[1,1,1]],7:[[1,1,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1]],8:[[1,1,1],[1,0,1],[1,1,1],[1,0,1],[1,1,1]],9:[[1,1,1],[1,0,1],[1,1,1],[0,0,1],[1,1,1]],"|":[[1,1,1],[1,1,1],[1,1,1],[1,1,1],[1,1,1]],"-":[[0,0,0],[0,0,0],[1,1,1],[0,0,0],[0,0,0]]," ":[[,,],[,,],[,,],[,,],[,,]]},n=kontra.context;kontra.drawText=function(e,a,r,o){var s=[];e=e.toUpperCase();for(var i=0;i<e.length;i++){var c=t[e.charAt(i)];c&&s.push(c)}n.fillStyle=o||"black";var h=r&&r.x||0;for(i=0;i<s.length;i++){c=s[i];for(var d=r&&r.y||0,f=0,u=0;u<c.length;u++){for(var k=c[u],l=0;l<k.length;l++)k[l]&&n.fillRect(h+l*a,d,a,a);f=Math.max(f,k.length*a),d+=a}h+=a+f}},kontra.drawTextCenter=function(t,n,e,a){(e=e||{}).x=e.x||0,e.x+=kontra.canvas.width/2-(3*t.length+t.length)*n/2,kontra.drawText(t,n,e,a)}}()},function(t,n,e){"use strict";e.r(n);e(0),e(1);var a={states:[],state:null,clear(){kontra.context.clearRect(0,0,kontra.canvas.width,kontra.canvas.height)},init(){const t=this;return["onUp","onDown"].forEach(function(n){kontra.pointer[n](function(e,a){let r=e.x-7,o=e.y-7;if(r<=kontra.canvas.width&&o<=kontra.canvas.height&&t.state&&t.state.scene[n]){const e={x:r,y:o};t.state.scene[n](e,a)}})}),this},switch(t){if(this.clear(),this.states.forEach(t=>{t.scene.isStopped||(t.scene.destroy&&t.scene.destroy(),t.scene.stop())}),"string"==typeof t)this.states.forEach(n=>{n.key==t&&(n.scene.init&&n.scene.init(),n.scene.start(),this.state=n)});else{const n=this.states[t];n.scene.init&&n.scene.init(),n.scene.start(),this.state=n}},addScene(t,n){return n.load&&n.load(),this.states.push({key:t,scene:n}),this}}.init();const r={phase:"up",x:-1,y:-1};let o,s,i,c=[],h=[],d=[],f=0;const u=kontra.gameLoop({update(t){if(h.forEach(n=>{n.update(t)}),d.forEach(n=>{n.update(t)}),c.forEach(n=>{n.update(t)}),o.update(t),s(),i(),"down"===r.phase){let t=r.x-o.x-o.width/2,n=r.y-o.y-o.height/2;isNaN(t)||0===t||(o.x+=t/Math.abs(t)),isNaN(n)||0===n||(o.y+=n/Math.abs(n))}},render(){h.forEach(t=>{t.render()}),d.forEach(t=>{t.render()});var t=[o,...c];t.sort((t,n)=>t.y-n.y),t.forEach(t=>{t.render()}),kontra.drawText(String(Math.floor(o.score)),1,{x:1,y:1},"#fff");var n=Array(o.health+1).join("|");kontra.drawText(n,1,{x:kontra.canvas.width-(3*o.health+o.health),y:1},"red")}});u.load=function(){const t=kontra.spriteSheet({image:kontra.getImage("./assets/runner13k.png"),frameWidth:16,frameHeight:16,animations:{player:{frames:[0,1,2,2,1,0],frameRate:8},enemyWalk:{frames:[3,4],frameRate:6},enemyDead:{frames:5,frameRate:1,loop:!1},gold:{frames:[7,8],frameRate:2},grass:{frames:6,frameRate:1,loop:!1}}});(o=kontra.sprite({type:"player",x:0,y:kontra.canvas.height-16,animations:t.animations,health:3,score:0,update(t){this.advance(t),kontra.keys.pressed("left")&&o.x>0?this.x-=1:kontra.keys.pressed("right")&&this.x+this.width<kontra.canvas.width&&(this.x+=1),kontra.keys.pressed("up")&&this.y>0?this.y-=1:kontra.keys.pressed("down")&&this.y+this.height<kontra.canvas.height&&(this.y+=1),d.forEach((t,n)=>{this.collidesWith(t)&&(this.score+=50,d.splice(n,1))}),this.health<=0&&(a.switch("gameover"),this.health=3,this.score=0,c=[])}})).playAnimation("player"),s=function(){if(c.length<5&&+new Date-f>1e3){f=+new Date;var n=kontra.sprite({type:"enemy",x:kontra.getRandomInt(0,kontra.canvas.width-16),y:kontra.getRandomInt(-kontra.canvas.height,-16),animations:t.animations,d:!1,isDead:!1,update(t){this.advance(t),this.d&&(this.y+=1),this.d=!this.d,this.y>kontra.canvas.height&&(this.isDead||o.health--,c.forEach((t,n)=>{t==this&&c.splice(n,1)})),this.isDead||this.collidesWith(o)&&(this.isDead=!0,this.playAnimation("enemyDead"))}});n.playAnimation("enemyWalk"),c.push(n)}};const n=function(n,e,a){return{type:a,x:n,y:e,animations:t.animations,d:0,update(t){this.advance(t),1===this.d?(this.y+=1,this.d=0):this.d++,this.y>kontra.canvas.height&&("gold"===this.type&&(o.score-=100),this.y=-this.height,this.x=kontra.getRandomInt(0,kontra.canvas.width-16))}}};for(let t=0;t<kontra.canvas.height/16;t++)h.push(kontra.sprite(n(kontra.getRandomInt(0,kontra.canvas.width-16),16*t,"grass")));h.forEach(t=>{t.playAnimation("grass")}),i=function(){if(d.length<2){var t=kontra.sprite(n(kontra.getRandomInt(0,kontra.canvas.width-16),kontra.getRandomInt(0,-kontra.canvas.height-16),"gold"));t.playAnimation("gold"),d.push(t)}}},u.init=function(){kontra.canvas.style.background="#66b632ff",kontra.keys.bind("esc",function(){a.switch("menu")})},u.destroy=function(){kontra.keys.unbind("esc")},u.onDown=function(t){r.x=t.x,r.y=t.y,r.phase="down"},u.onUp=function(t){r.phase="up"};var k=u;const l=kontra.gameLoopEmpty();l.init=function(){kontra.canvas.style.background="#268B67",kontra.keys.bind("enter",function(){a.switch("game")}),[["Fknight",3,kontra.canvas.height/2-45,"#CF6A39"],["Press enter",1,kontra.canvas.height/2-15,"#7B112B"],["esc - pause",1,kontra.canvas.height/2+10,"#E79269"]].forEach(t=>{kontra.drawTextCenter(t[0],t[1],{y:t[2]},t[3]||"#fff")})},l.destroy=function(){kontra.keys.unbind("enter")},l.onUp=function(){a.switch("game")};var p=l;const y=kontra.gameLoopEmpty();y.init=function(){kontra.canvas.style.background="#000",kontra.keys.bind("enter",function(){a.switch("menu")}),setTimeout(()=>{kontra.clear(),[["Game Over",2,{x:-2,y:kontra.canvas.height/2-15}],["Press enter",1,{y:kontra.canvas.height/2}]].forEach(t=>{kontra.drawTextCenter(t[0],t[1],t[2],t[3]||"#fff")})})},y.destroy=function(){kontra.keys.unbind("enter")},y.onUp=function(){a.switch("menu")};var g=y;kontra.assets.load("./assets/runner13k.png").then(function(){a.addScene("menu",p).addScene("game",k).addScene("gameover",g).switch("menu")}).catch(function(t){console.error(t)})}]);